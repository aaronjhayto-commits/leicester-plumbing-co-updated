<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Leicester Plumbing Co — 24/7 Plumbers & Boiler Experts</title>
  <meta name="description" content="Market-leading plumbers in Leicester. 24/7 emergencies, boiler installs and servicing, leaks fixed fast, bathrooms, and heating. Fixed fair pricing." />
  <meta name="theme-color" content="#0ea5e9">
  <!-- DEMO: prevent indexing -->
  <meta name="robots" content="noindex, nofollow">
  <!-- Canonical (optional, fine to leave in for a stable demo URL) -->
  <link rel="canonical" href="https://aaronjhayto-commits.github.io/leicester-plumbing-co-updated/">

  <!-- Favicon -->
  <link rel="icon" href="assets/favicon.svg" type="image/svg+xml">

  <!-- Preload hero image for faster LCP -->
  <link rel="preload" as="image" href="assets/hero.jpg?v=8">

  <!-- Styles (cache-busted) -->
  <link rel="stylesheet" href="styles.css?v=10" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">

  <!-- ── NEW: Social sharing (OG/Twitter) ───────────────────────── -->
  <meta property="og:type" content="website">
  <meta property="og:title" content="Leicester Plumbing Co — 24/7 Plumbers & Boiler Experts">
  <meta property="og:description" content="Emergency plumbers in Leicester. Boilers, leaks, bathrooms, heating. Fixed, fair pricing.">
  <meta property="og:url" content="https://aaronjhayto-commits.github.io/leicester-plumbing-co-updated/">
  <meta property="og:image" content="https://aaronjhayto-commits.github.io/leicester-plumbing-co-updated/assets/og-cover.jpg">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Leicester Plumbing Co — 24/7 Plumbers & Boiler Experts">
  <meta name="twitter:description" content="Emergency plumbers in Leicester. Boilers, leaks, bathrooms, heating. Fixed, fair pricing.">
  <meta name="twitter:image" content="https://aaronjhayto-commits.github.io/leicester-plumbing-co-updated/assets/og-cover.jpg">

  <!-- Small overrides + image fade-in -->
  <style>
    .logos img { filter:none !important; opacity:1 !important; mix-blend-mode:normal !important; }
    /* Tighten Services spacing */
    .cards.container{ padding-top:.75rem !important; padding-bottom:.75rem !important; margin:0 !important; }
    .cards .section-head{ margin-bottom:.5rem !important; }
    .cards .grid-3{ gap:12px !important; margin:0 !important; }

    /* Mid-page image fade-in */
    .fade-in{opacity:0; transform:translateY(8px); transition:opacity .6s ease, transform .6s ease;}
    .fade-in.is-visible{opacity:1; transform:none;}

    /* ── NEW: Header size/cta/icon bump (no structural changes) ── */
    .site-header .container.row { min-height: 84px; }
    .site-header .brand img { width: 44px; height: 44px; }
    .site-header .brand span { font-size: 1.08rem; font-weight: 700; }
    .site-header .nav .btn.btn-sm { padding: 10px 14px; }
    .site-header .nav .btn.btn-sm svg { width: 20px; height: 20px; }
    @media (min-width: 900px){
      .site-header .container.row { min-height: 92px; }
      .site-header .brand span { font-size: 1.12rem; }
    }
  </style>

  <!-- Business Schema (kept) -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"LocalBusiness",
    "name":"Leicester Plumbing Co",
    "url":"https://aaronjhayto-commits.github.io/leicester-plumbing-co-updated/",
    "image":"https://aaronjhayto-commits.github.io/leicester-plumbing-co-updated/assets/og-cover.jpg",
    "telephone":"+44 116 123 4567",
    "email":"bookings@leicesterplumbing.example",
    "address":{
      "@type":"PostalAddress",
      "addressLocality":"Leicester",
      "addressRegion":"Leicestershire",
      "postalCode":"LE1",
      "addressCountry":"GB"
    },
    "areaServed":"Leicester & Leicestershire",
    "openingHoursSpecification":[
      {"@type":"OpeningHoursSpecification","dayOfWeek":["Monday","Tuesday","Wednesday","Thursday","Friday"],"opens":"00:00","closes":"23:59"},
      {"@type":"OpeningHoursSpecification","dayOfWeek":["Saturday","Sunday"],"opens":"00:00","closes":"23:59"}
    ],
    "priceRange":"££",
    "aggregateRating":{"@type":"AggregateRating","ratingValue":"4.9","reviewCount":"218"},
    "potentialAction":{
      "@type":"ReserveAction",
      "target":{
        "@type":"EntryPoint",
        "urlTemplate":"https://calendly.com/aaronjhayto/book-a-plumber-visit",
        "inLanguage":"en-GB",
        "actionPlatform":["http://schema.org/DesktopWebPlatform","http://schema.org/MobileWebPlatform"]
      },
      "result":{"@type":"Reservation","name":"Plumber visit booking"}
    }
  }
  </script>

  <!-- FAQPage Schema (kept) -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "FAQPage",
    "mainEntity": [
      { "@type": "Question", "name": "Do you charge a callout fee?", "acceptedAnswer": {"@type":"Answer","text":"We quote up-front. No hidden surprises."} },
      { "@type": "Question", "name": "How soon can you attend?", "acceptedAnswer": {"@type":"Answer","text":"Same-day in Leicester. 24/7 emergencies."} },
      { "@type": "Question", "name": "Are you Gas Safe?", "acceptedAnswer": {"@type":"Answer","text":"Yes — all boiler work by registered engineers."} },
      { "@type": "Question", "name": "Which areas do you cover?", "acceptedAnswer": {"@type":"Answer","text":"Leicester & Leicestershire."} }
    ]
  }
  </script>
</head>

<body>
  <a class="skip" href="#main">Skip to content</a>

  <!-- HEADER -->
  <header class="site-header" data-sticky>
    <div class="container row between center">
      <a href="index.html" class="brand">
        <img src="assets/logo.svg" alt="Leicester Plumbing Co" width="36" height="36" />
        <span>Leicester Plumbing Co</span>
      </a>
      <nav class="nav" aria-label="Primary">
        <button class="hamburger" aria-expanded="false" aria-controls="nav-menu" aria-label="Menu">
          <span></span><span></span><span></span>
        </button>
        <ul id="nav-menu">
          <li><a href="services.html">Services</a></li>
          <li><a href="about.html">About</a></li>
          <li><a href="contact.html">Contact</a></li>
          <li><a class="btn btn-sm" href="#" btn.id = 'bookFab'; id="bookNowNav">Book now</a></li>
          <li>
            <a class="btn btn-sm btn-ghost"
               href="https://wa.me/441161234567?text=Hi%20Leicester%20Plumbing%20Co%2C%20I%20need%20help%20with..."
               target="_blank" rel="noopener" aria-label="Open WhatsApp chat">WhatsApp</a>
          </li>
          <li><a class="btn btn-sm" href="tel:+441161234567">Call 0116 123 4567</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <main id="main">
    <!-- HERO -->
    <section class="hero">
      <img src="assets/hero.jpg?v=8" alt="Engineer repairing a boiler" loading="eager" />
      <div class="hero-inner container">
        <h1>Plumbing problems solved <span class="accent">fast</span>.</h1>
        <p>Emergency callouts 24/7, boiler installs and servicing, leaks, and bathrooms. Trusted local engineers. Fixed fair pricing.</p>
        <div class="cta">
          <a class="btn btn-lg" href="tel:+441161234567">Emergency: 0116 123 4567</a>
          <a class="btn btn-lg btn-ghost" href="#quote">Get a quick quote</a>
        </div>
        <ul class="badges" aria-label="Trust badges">
          <li>Gas Safe Registered</li>
          <li>24/7 Emergency</li>
          <li>★★★★★ 4.9/5 (218 reviews)</li>
        </ul>
      </div>
    </section>

    <!-- TRUST LOGOS -->
    <section class="logos container" aria-label="Trusted by">
      <img loading="lazy" width="128" height="48" src="assets/gassafe.png?v=8" alt="Gas Safe" />
      <img loading="lazy" width="220" height="48" src="assets/checkatrade.png?v=8" alt="Checkatrade" />
      <img loading="lazy" width="220" height="48" src="assets/trustpilot.svg?v=8" alt="Trustpilot" />
      <img loading="lazy" width="140" height="48" src="assets/which.svg?v=8" alt="Which?" />
    </section>

    <!-- SERVICES -->
    <section class="cards container" style="padding:1rem 0 .5rem; margin:0;">
      <header class="section-head" style="margin:0 0 .5rem;">
        <h2 style="margin:0;">What we do best</h2>
        <p style="margin:.35rem 0 0;">From burst pipes to premium boilers — we’ve got you covered.</p>
      </header>

      <!-- THE THREE SERVICE CARDS (forced visible) -->
      <div class="grid-3" style="gap:12px; margin:0;">
        <article class="card" data-animate="fade-up" style="padding:1rem; opacity:1; transform:none;">
          <h3>Emergency Plumber</h3>
          <p>Rapid response for leaks, burst pipes, blocked drains, and heating failures — 24 hours a day.</p>
          <a class="link" href="services.html#emergency">Learn more</a>
        </article>

        <article class="card" data-animate="fade-up" data-delay="100" style="padding:1rem; opacity:1; transform:none;">
          <h3>Boiler Installs & Service</h3>
          <p>Efficient, guaranteed installs. Annual servicing to keep your boiler safe and bills low.</p>
          <a class="link" href="services.html#boilers">Learn more</a>
        </article>

        <article class="card" data-animate="fade-up" data-delay="200" style="padding:1rem; opacity:1; transform:none;">
          <h3>Bathrooms & Upgrades</h3>
          <p>Design to installation — premium bathrooms, tiling, fixtures, and smart heating controls.</p>
          <a class="link" href="services.html#bathrooms">Learn more</a>
        </article>
      </div>

      <!-- WHY CHOOSE US mini strip -->
      <div style="margin-top:1rem; display:grid; grid-template-columns:repeat(auto-fit,minmax(220px,1fr)); gap:12px;">
        <div class="card" style="padding:1rem;">
          <strong>Up-front pricing</strong>
          <p style="margin:.35rem 0 0; opacity:.8;">No hidden fees. Clear quotes before work begins.</p>
        </div>
        <div class="card" style="padding:1rem;">
          <strong>Same-day availability</strong>
          <p style="margin:.35rem 0 0; opacity:.8;">Rapid response across Leicester & Leicestershire.</p>
        </div>
        <div class="card" style="padding:1rem;">
          <strong>Gas Safe engineers</strong>
          <p style="margin:.35rem 0 0; opacity:.8;">Boilers serviced and installed by registered pros.</p>
        </div>
      </div>

      <!-- inline CTA row -->
      <div style="margin-top:1rem; display:flex; gap:.6rem; flex-wrap:wrap;">
        <a class="btn btn-lg" href="#" id="bookNowServices">Book a visit</a>
        <a class="btn btn-lg btn-ghost" href="#quote">Get a quick quote</a>
      </div>

      <p class="tiny" style="margin-top:.75rem; opacity:.8;">
        Serving Leicester, Oadby, Wigston, Evington, Braunstone, Birstall & Glenfield.
      </p>
    </section>

    <!-- IMAGE BREAK (tight, neat + fade-in) -->
    <section class="image-break" style="margin:1rem 0 .75rem;">
      <div class="container" style="overflow:hidden; border-radius:12px;">
        <img
          class="fade-in"
          src="assets/service-maintenance-worker-repairing.jpg"
          alt="Professional plumber fixing sink under counter"
          loading="lazy" decoding="async"
          style="width:100%; height:380px; display:block; object-fit:cover; object-position:55% 50%;">
      </div>
    </section>

    <!-- REVIEWS -->
    <section class="reviews" style="padding:1.25rem 0 1rem; margin:0;">
      <div class="container">
        <header class="section-head" style="margin-bottom:1rem;">
          <h2>Customers rate us 4.9/5</h2>
          <p>Real reviews from Leicester homeowners and landlords.</p>
        </header>

        <div class="grid-3" style="gap:1rem;">
          <blockquote class="review"
            style="background:#0b1220; border:1px solid rgba(255,255,255,.06); border-radius:12px; padding:1rem 1.25rem; opacity:1; transform:none;">
            <p style="margin:0 0 .5rem;">“Turned up within the hour and fixed a major leak. Price exactly as quoted.”</p>
            <cite style="opacity:.8;">— Amy R.</cite>
          </blockquote>

          <blockquote class="review"
            style="background:#0b1220; border:1px solid rgba(255,255,255,.06); border-radius:12px; padding:1rem 1.25rem; opacity:1; transform:none;">
            <p style="margin:0 0 .5rem;">“New boiler installed next-day. Clean, tidy, and super professional.”</p>
            <cite style="opacity:.8;">— Darren W.</cite>
          </blockquote>

          <blockquote class="review"
            style="background:#0b1220; border:1px solid rgba(255,255,255,.06); border-radius:12px; padding:1rem 1.25rem; opacity:1; transform:none;">
            <p style="margin:0 0 .5rem;">“The only plumbers I trust for my rentals. 10/10 communication.”</p>
            <cite style="opacity:.8;">— Priya S. (Landlord)</cite>
          </blockquote>
        </div>
      </div>
    </section>

    <!-- FAQ -->
    <section id="faq" style="padding:3rem 1rem; max-width:900px; margin:0 auto; color:#fff;">
      <h2 style="font-size:1.8rem; margin:0 0 1rem;">FAQs</h2>
      <details style="background:#111; border-radius:10px; padding:0.8rem 1rem; margin-bottom:0.8rem;">
        <summary style="cursor:pointer; font-weight:600;">Do you charge a callout fee?</summary>
        <p style="margin-top:0.6rem;">We quote up-front. No hidden surprises.</p>
      </details>
      <details style="background:#111; border-radius:10px; padding:0.8rem 1rem; margin-bottom:0.8rem;">
        <summary style="cursor:pointer; font-weight:600;">How soon can you attend?</summary>
        <p style="margin-top:0.6rem;">Same-day in Leicester. 24/7 emergencies.</p>
      </details>
      <details style="background:#111; border-radius:10px; padding:0.8rem 1rem; margin-bottom:0.8rem;">
        <summary style="cursor:pointer; font-weight:600;">Are you Gas Safe?</summary>
        <p style="margin-top:0.6rem;">Yes — all boiler work by registered engineers.</p>
      </details>
      <details style="background:#111; border-radius:10px; padding:0.8rem 1rem;">
        <summary style="cursor:pointer; font-weight:600;">Which areas do you cover?</summary>
        <p style="margin-top:0.6rem;">Leicester & Leicestershire.</p>
      </details>
    </section>

    <!-- QUOTE FORM -->
    <section id="quote" class="quote">
      <div class="container grid-2">
        <div>
          <h2>Get a fast, fair quote</h2>
          <p>Tell us what’s wrong and when to visit. We reply within minutes during business hours.</p>
          <ul class="ticks">
            <li>Transparent pricing</li>
            <li>Photos welcome</li>
            <li>Same-day availability</li>
          </ul>
        </div>

        <form class="card form" action="https://formspree.io/f/xqayjvwo" method="POST" novalidate>
          <!-- Page marker -->
          <input type="hidden" name="page" value="Home">
          <!-- Honeypot anti-spam -->
          <input type="text" name="company" autocomplete="off" tabindex="-1"
                 style="position:absolute;left:-9999px;opacity:0;height:0;width:0;">

          <label><span>Name</span><input name="name" required></label>
          <label><span>Email</span><input type="email" name="email" required></label>
          <label><span>Phone</span><input name="phone" required></label>
          <label><span>How can we help?</span><textarea name="message" rows="5" required></textarea></label>

          <button class="btn btn-lg" type="submit">Request quote</button>
          <p class="form-foot">Or call us now: <a href="tel:+441161234567">0116 123 4567</a></p>
        </form>
      </div>
    </section>
  </main>

  <!-- FOOTER -->
  <footer class="site-footer">
    <div class="container grid-3">
      <div>
        <strong>Leicester Plumbing Co</strong>
        <p>Reliable local plumbers covering Leicester & Leicestershire.</p>
      </div>
      <nav aria-label="Footer">
        <ul>
          <li><a href="services.html">Services</a></li>
          <li><a href="about.html">About</a></li>
          <li><a href="contact.html">Contact</a></li>
          <li><a href="privacy.html">Privacy</a></li>
        </ul>
      </nav>
      <div>
        <a class="btn btn-sm" href="tel:+441161234567">Call 0116 123 4567</a>
        <p class="tiny">© <span id="year"></span> Leicester Plumbing Co. All rights reserved.</p>
      </div>
    </div>
  </footer>

  <!-- Chatbase chatbot (kept) -->
  <script>
    window.embeddedChatbotConfig = {
      chatbotId: "rL8EPf39llgdwMS-JB0j_",
      domain: "www.chatbase.co"
    };
  </script>
  <script defer src="https://www.chatbase.co/embed.min.js"></script>

  <!-- Calendly popup (kept) -->
  <link href="https://assets.calendly.com/assets/external/widget.css" rel="stylesheet">
  <script src="https://assets.calendly.com/assets/external/widget.js" async></script>

  <!-- Floating “Book now” (desktop only) (kept) -->
  <script>
  (function(){
    if (window.innerWidth < 768) return; // hide on mobile
    const btn = document.createElement('a');
    btn.href = '#';
    btn.textContent = 'Book now';
    btn.onclick = function(){
      Calendly.initPopupWidget({
        url: 'https://calendly.com/aaronjhayto/book-a-plumber-visit?hide_gdpr_banner=1&hide_landing_page_details=1&utm_source=demo&utm_medium=site&utm_campaign=floating_cta'
      });
      return false;
    };
    Object.assign(btn.style, {
      position:'fixed', left:'18px', bottom:'18px',
      padding:'12px 16px', borderRadius:'999px',
      background:'#0ea5e9', color:'#fff', fontWeight:'700',
      boxShadow:'0 6px 16px rgba(0,0,0,.15)', zIndex:9999,
      textDecoration:'none', fontFamily:'system-ui, -apple-system, Segoe UI, Roboto, Arial'
    });
    document.body.appendChild(btn);
  })();
  </script>

<!-- Floating WhatsApp button (LEFT, above Book now) -->
<script>
(function(){
  // 1) Remove any previous fixed-position WhatsApp floaters
  document.querySelectorAll('a[href*="wa.me"]').forEach(function(a){
    var s = window.getComputedStyle(a);
    if (s.position === 'fixed') a.remove();
  });

  // 2) Create the new left-side floater
  var waNumber = '441161234567';
  var prefill  = 'Hi%20Leicester%20Plumbing%20Co%2C%20I%20need%20help%20with...';

  var wa = document.createElement('a');
  wa.href = 'https://wa.me/' + waNumber + '?text=' + prefill;
  wa.target = '_blank';
  wa.rel = 'noopener';
  wa.setAttribute('aria-label','Open WhatsApp chat');
  wa.textContent = 'WhatsApp';

  Object.assign(wa.style, {
    position: 'fixed',
    left: '18px',
    right: 'auto',          // <-- force off the right edge if something set it
    bottom: '90px',         // sits above the Book now button at bottom:18px
    zIndex: 9998,
    padding: '12px 16px',
    borderRadius: '999px',
    background: '#25D366',
    color: '#000',
    fontWeight: '700',
    textDecoration: 'none',
    boxShadow: '0 6px 16px rgba(0,0,0,.15)',
    fontFamily:'system-ui, -apple-system, Segoe UI, Roboto, Arial'
  });

  if (window.innerWidth >= 380) document.body.appendChild(wa);
})();
</script>



  <!-- Fade-in observer for mid image (kept) -->
  <script>
  document.addEventListener('DOMContentLoaded', function(){
    var el = document.querySelector('.fade-in');
    if(!el) return;
    let obs = new IntersectionObserver((entries)=>{
      entries.forEach(e=>{ if(e.isIntersecting){ el.classList.add('is-visible'); obs.disconnect(); }});
    }, {threshold:.2});
    obs.observe(el);
  });
  </script>

  <!-- Year stamp -->
  <script>document.getElementById('year').textContent = new Date().getFullYear();</script>
<!-- Mobile menu: independent full-screen panel (ignores existing nav CSS) -->
<script>
document.addEventListener('DOMContentLoaded', function () {
  const header  = document.querySelector('.site-header');
  const burger  = document.querySelector('.hamburger');
  const source  = document.getElementById('nav-menu'); // your existing <ul>

  if (!header || !burger || !source) return;

  // Build an independent panel so no existing CSS can push it off-screen
  const panel = document.createElement('div');
  panel.id = 'mobileMenuPanel';
  panel.setAttribute('role','dialog');
  panel.setAttribute('aria-modal','true');
  panel.style.cssText = [
    'position:fixed',
    'inset:0',
    'background:#0b1220',
    'display:none',
    'z-index:100000',      // above everything
    'overflow:auto',
    'padding:16px'
  ].join(';');

  // Backdrop click area (behind the list)
  const backdrop = document.createElement('div');
  backdrop.style.cssText = 'position:fixed;inset:0;background:rgba(0,0,0,.45);z-index:-1';

  // Content wrapper - we’ll set top padding = header height each open
  const wrap = document.createElement('div');
  wrap.style.cssText = 'max-width:960px;margin:0 auto;display:flex;flex-direction:column;gap:12px';

  // Clone your existing <li> items so links stay identical
  const list = source.cloneNode(true);
  list.id = 'nav-menu-clone';
  list.removeAttribute('style');            // clear any inline display:none
  list.style.cssText = [
    'list-style:none',
    'margin:0',
    'padding:0',
    'display:flex',
    'flex-direction:column',
    'gap:12px'
  ].join(';');

  // Make items finger-friendly
  list.querySelectorAll('a').forEach(a=>{
    a.style.cssText = 'display:block;padding:14px 12px;border:1px solid rgba(255,255,255,.08);border-radius:10px;text-decoration:none;color:#fff;background:#0d1526';
  });

  wrap.appendChild(list);
  panel.appendChild(backdrop);
  panel.appendChild(wrap);
  document.body.appendChild(panel);

  function headerH(){ return (header.getBoundingClientRect().height || 84); }

  function openMenu(){
    // Place content below header no matter where you are
    panel.style.paddingTop = (headerH() + 12) + 'px';
    burger.classList.add('is-active');
    panel.style.display = 'block';
    document.body.style.overflow = 'hidden';
  }

  function closeMenu(){
    burger.classList.remove('is-active');
    panel.style.display = 'none';
    document.body.style.overflow = '';
  }

  burger.addEventListener('click', function(){
    const open = panel.style.display === 'block';
    open ? closeMenu() : openMenu();
  });

  // Tap outside closes
  backdrop.addEventListener('click', closeMenu);

  // Close after tapping a link (nice on mobile)
  list.addEventListener('click', function(e){
    if (e.target.closest('a')) closeMenu();
  });

  // Keep panel aligned on rotate/resize
  window.addEventListener('resize', function(){
    if (panel.style.display === 'block') panel.style.paddingTop = (headerH() + 12) + 'px';
  });

  /* Optional: simple hamburger animation without touching your CSS */
  const bars = burger.querySelectorAll('span');
  if (bars.length === 3) {
    // add minimal inline styles if not already present
    bars.forEach(b=>{ b.style.cssText = 'display:block;width:24px;height:2px;background:#fff;margin:5px 0;transition:all .25s'; });
    burger.addEventListener('click', function(){
      const active = burger.classList.contains('is-active');
      bars[0].style.transform = active ? '' : 'rotate(45deg) translateY(6px)';
      bars[1].style.opacity   = active ? '1' : '0';
      bars[2].style.transform = active ? '' : 'rotate(-45deg) translateY(-6px)';
    });
  }
});
</script>
<!-- Book-now chooser: Boiler service / Request quote / Emergency call -->
<script>
(function(){
  const BOOKING_URL = 'https://calendly.com/aaronjhayto/book-a-plumber-visit?hide_gdpr_banner=1&hide_landing_page_details=1&utm_source=site&utm_medium=chooser&utm_campaign=boiler_service';
  const TEL = '+441161234567';

  function ensureCalendly(cb){
    if (window.Calendly && Calendly.initPopupWidget) return cb();
    const s = document.querySelector('script[src*="assets.calendly.com/assets/external/widget.js"]');
    if (s) { s.addEventListener('load', cb); return; }
    const scr = document.createElement('script');
    scr.src = 'https://assets.calendly.com/assets/external/widget.js';
    scr.async = true;
    scr.onload = cb;
    document.head.appendChild(scr);
  }

  function openChooser(){
    // build overlay only once
    let o = document.getElementById('book-chooser');
    if (!o){
      o = document.createElement('div');
      o.id = 'book-chooser';
      o.innerHTML = `
        <div class="bc-backdrop" data-close></div>
        <div class="bc-panel" role="dialog" aria-modal="true" aria-label="Choose booking option">
          <h3>What do you need today?</h3>
          <button class="bc-btn" data-action="service">🔧 Boiler service (book instantly)</button>
          <button class="bc-btn bc-secondary" data-action="quote">🧾 Something else (request a quote)</button>
          <button class="bc-btn bc-quiet" data-action="call">💦 Emergency leak / no heat (call now)</button>
          <button class="bc-close" data-close aria-label="Close">×</button>
        </div>`;
      document.body.appendChild(o);

      // close handlers
      o.addEventListener('click', (e)=>{
        if (e.target.hasAttribute('data-close')) o.classList.remove('show');
      });

      // action handlers
      o.querySelector('[data-action="service"]').addEventListener('click', function(){
        ensureCalendly(()=> Calendly.initPopupWidget({ url: BOOKING_URL }));
        o.classList.remove('show');
      });
      o.querySelector('[data-action="quote"]').addEventListener('click', function(){
        o.classList.remove('show');
        const target = document.getElementById('quote');
        if (target) target.scrollIntoView({ behavior:'smooth', block:'start' });
      });
      o.querySelector('[data-action="call"]').addEventListener('click', function(){
        o.classList.remove('show');
        window.location.href = 'tel:' + TEL;
      });
    }
    o.classList.add('show');
  }

  // delegate clicks from all Book buttons we care about
  document.addEventListener('click', function(e){
    const el = e.target.closest('#bookNowNav, #bookNowServices, #bookFab');
    if (!el) return;
    e.preventDefault();
    openChooser();
  });
})();
</script>

<style>
/* chooser styles */
#book-chooser{ position:fixed; inset:0; display:none; z-index:100000; }
#book-chooser.show{ display:block; }
#book-chooser .bc-backdrop{ position:absolute; inset:0; background:rgba(0,0,0,.5); }
#book-chooser .bc-panel{
  position:absolute; left:50%; top:50%; transform:translate(-50%,-50%);
  width:min(520px,92vw); background:#0b1220; color:#fff;
  border:1px solid rgba(255,255,255,.08); border-radius:14px; padding:18px;
  box-shadow:0 20px 60px rgba(0,0,0,.45);
}
#book-chooser h3{ margin:0 0 12px; font-size:1.1rem }
#book-chooser .bc-btn{
  width:100%; text-align:left; padding:12px 14px; margin:8px 0;
  border-radius:12px; border:1px solid #1b2a3c; background:#0d1526; color:#fff; font-weight:700;
}
#book-chooser .bc-secondary{ background:#0b1323; }
#book-chooser .bc-quiet{ background:#0a1120; border-style:dashed; }
#book-chooser .bc-btn:focus{ outline:none; box-shadow:0 0 0 3px rgba(16,165,233,.35); }
#book-chooser .bc-close{
  position:absolute; top:6px; right:10px; background:transparent; border:0; color:#bcd; font-size:28px; line-height:1; cursor:pointer;
}
@media (max-width: 480px){
  #book-chooser .bc-panel{ width:94vw; padding:16px }
  #book-chooser .bc-btn{ padding:12px }
}
</style>
</body>
</html>








